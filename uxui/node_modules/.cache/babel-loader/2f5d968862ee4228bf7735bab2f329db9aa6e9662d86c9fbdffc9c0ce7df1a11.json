{"ast":null,"code":"var _jsxFileName = \"/Users/m0b0yxy/Desktop/V1.2/uxui/src/VisualizationPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport ReactFlow, { Controls, Background, MarkerType } from 'react-flow-renderer';\nimport nodeTypes from './nodeTypes';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction VisualizationPanel({\n  nodes,\n  edges,\n  onNodesChange,\n  onEdgesChange,\n  onNodeDoubleClick\n}) {\n  _s();\n  const edgesWithLabels = useMemo(() => {\n    return edges.map(edge => {\n      if (edge.type === 'direct') {\n        return {\n          ...edge,\n          type: 'straight',\n          animated: false,\n          style: {\n            stroke: '#888',\n            strokeWidth: 1,\n            strokeDasharray: '5, 5'\n          }\n        };\n      }\n      const sourceNode = nodes.find(node => node.id === edge.source);\n      const targetNode = nodes.find(node => node.id === edge.target);\n      let label = '';\n      if ((sourceNode.type === 'Customer' || targetNode.type === 'Customer') && (sourceNode.type === 'Transfer' || targetNode.type === 'BillPay' || targetNode.type === 'Transfer' || targetNode.type === 'BillPay')) {\n        const transactionNode = sourceNode.type === 'Transfer' || sourceNode.type === 'BillPay' ? sourceNode : targetNode;\n        const customerNode = sourceNode.type === 'Customer' ? sourceNode : targetNode;\n        if (transactionNode.data && transactionNode.data.info) {\n          const transactionType = transactionNode.data.info.type;\n          if (transactionType === 'send' || transactionType === 'receive') {\n            label = `Customer ${transactionType === 'send' ? 'sends' : 'receives'}`;\n          } else if (transactionType === 'billPay') {\n            label = `Customer pays bill`;\n          }\n        }\n      }\n      return {\n        ...edge,\n        type: 'straight',\n        animated: false,\n        label,\n        labelStyle: {\n          fill: '#888',\n          fontWeight: 700\n        },\n        labelBgPadding: [8, 4],\n        labelBgBorderRadius: 4,\n        labelBgStyle: {\n          fill: '#ffffff',\n          color: '#888',\n          fillOpacity: 0.7\n        },\n        style: {\n          stroke: '#888',\n          strokeWidth: 2\n        },\n        markerEnd: {\n          color: '#888'\n        }\n      };\n    });\n  }, [edges, nodes]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"visualization-panel\",\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    children: nodes.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edgesWithLabels,\n        onNodesChange: onNodesChange,\n        onEdgesChange: onEdgesChange,\n        nodeTypes: nodeTypes,\n        onNodeDoubleClick: onNodeDoubleClick,\n        fitView: true,\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Background, {\n          color: \"#f0f0f0\",\n          gap: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"graph-controls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(VisualizationPanel, \"r775DA2f0wuXw+kINPi3Fqzep/8=\");\n_c = VisualizationPanel;\nexport default VisualizationPanel;\nvar _c;\n$RefreshReg$(_c, \"VisualizationPanel\");","map":{"version":3,"names":["React","useMemo","ReactFlow","Controls","Background","MarkerType","nodeTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","VisualizationPanel","nodes","edges","onNodesChange","onEdgesChange","onNodeDoubleClick","_s","edgesWithLabels","map","edge","type","animated","style","stroke","strokeWidth","strokeDasharray","sourceNode","find","node","id","source","targetNode","target","label","transactionNode","customerNode","data","info","transactionType","labelStyle","fill","fontWeight","labelBgPadding","labelBgBorderRadius","labelBgStyle","color","fillOpacity","markerEnd","className","width","height","children","length","fitView","fileName","_jsxFileName","lineNumber","columnNumber","gap","_c","$RefreshReg$"],"sources":["/Users/m0b0yxy/Desktop/V1.2/uxui/src/VisualizationPanel.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport ReactFlow, {\n  Controls,\n  Background,\n  MarkerType,\n} from 'react-flow-renderer';\nimport nodeTypes from './nodeTypes';\n\nfunction VisualizationPanel({ nodes, edges, onNodesChange, onEdgesChange, onNodeDoubleClick }) {\n  const edgesWithLabels = useMemo(() => {\n    return edges.map(edge => {\n      if (edge.type === 'direct') {\n        return {\n          ...edge,\n          type: 'straight',\n          animated: false,\n          style: { stroke: '#888', strokeWidth: 1, strokeDasharray: '5, 5' },\n        };\n      }\n\n      const sourceNode = nodes.find(node => node.id === edge.source);\n      const targetNode = nodes.find(node => node.id === edge.target);\n      let label = '';\n      \n      if ((sourceNode.type === 'Customer' || targetNode.type === 'Customer') &&\n          (sourceNode.type === 'Transfer' || targetNode.type === 'BillPay' || \n           targetNode.type === 'Transfer' || targetNode.type === 'BillPay')) {\n        \n        const transactionNode = sourceNode.type === 'Transfer' || sourceNode.type === 'BillPay' ? sourceNode : targetNode;\n        const customerNode = sourceNode.type === 'Customer' ? sourceNode : targetNode;\n        \n        if (transactionNode.data && transactionNode.data.info) {\n          const transactionType = transactionNode.data.info.type;\n          if (transactionType === 'send' || transactionType === 'receive') {\n            label = `Customer ${transactionType === 'send' ? 'sends' : 'receives'}`;\n          } else if (transactionType === 'billPay') {\n            label = `Customer pays bill`;\n          }\n        }\n      }\n\n      return {\n        ...edge,\n        type: 'straight',\n        animated: false,\n        label,\n        labelStyle: { fill: '#888', fontWeight: 700 },\n        labelBgPadding: [8, 4],\n        labelBgBorderRadius: 4,\n        labelBgStyle: { fill: '#ffffff', color: '#888', fillOpacity: 0.7 },\n        style: { stroke: '#888', strokeWidth: 2 },\n        markerEnd: {\n          color: '#888',\n        },\n      };\n    });\n  }, [edges, nodes]);\n\n  return (\n    <div className=\"visualization-panel\" style={{ width: '100%', height: '100%' }}>\n      {nodes.length > 0 ? (\n        <>\n          <ReactFlow\n            nodes={nodes}\n            edges={edgesWithLabels}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            nodeTypes={nodeTypes}\n            onNodeDoubleClick={onNodeDoubleClick}\n            fitView\n            style={{ width: '100%', height: '100%' }}\n          >\n            <Controls />\n            <Background color=\"#f0f0f0\" gap={16} />\n          </ReactFlow>\n          <div className=\"graph-controls\">\n          </div>\n        </>\n      ) : (\n        <p></p>\n      )}\n    </div>\n  );\n}\n\nexport default VisualizationPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}